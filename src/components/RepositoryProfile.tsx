import { useCallback, useEffect, useState } from "react";

interface RepositoryProfileProps {
  profile: {
    login: string;
    name: string;
    bio: string;
    company: string;
    location: string;
    blog: string;
    avatar_url: string;
  }
}

export function RepositoryProfile(props: RepositoryProfileProps) {
  const [info, setInfo] = useState(false);

  useEffect(() => {
    if (window?.innerWidth >= 744) {
      setInfo(true)
    } else {
      setInfo(false)
    }
  }, []);

  const handleInfo = useCallback(() => {
    if (info) {
      setInfo(false);
    } else {
      setInfo(true);
    }
  }, [info]);

  return (
    <div className="container-profile">
      <div className="profile flex">
        <div className="avatar">
          <img src={props.profile.avatar_url} alt="" className="img-avatar"/>
          <img src="./images/emoji.svg" alt="" className="emoji"/>
        </div>
        {/* {props.profile.name && (

        )} */}
        <p className="profile-name">{props.profile.name || props.profile.login}</p>
        {/* <p className="profile-name">{}</p> */}
        <p className="profile-bio">{props.profile.bio}</p>
      </div>
      <div>
        <a onClick={() => handleInfo()} className={"info-add display"}>
          <p>Informações Adicionais</p>
          
          <svg className={info ? 'clicked' : ''} width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 1L7 7L13 1" stroke="#0587FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
        <div className={info ? 'infos': 'infos-hidden'}>
          {props.profile.company && (
            <span className="flex">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 4H5V6H4V4Z" fill="#0587FF"/>
                <path d="M4 7H5V9H4V7Z" fill="#0587FF"/>
                <path d="M7 4H8V6H7V4Z" fill="#0587FF"/>
                <path d="M7 7H8V9H7V7Z" fill="#0587FF"/>
                <path d="M4 10H5V12H4V10Z" fill="#0587FF"/>
                <path d="M7 10H8V12H7V10Z" fill="#0587FF"/>
                <path d="M15 7C15 6.73478 14.8946 6.48043 14.7071 6.29289C14.5196 6.10536 14.2652 6 14 6H11V2C11 1.73478 10.8946 1.48043 10.7071 1.29289C10.5196 1.10536 10.2652 1 10 1H2C1.73478 1 1.48043 1.10536 1.29289 1.29289C1.10536 1.48043 1 1.73478 1 2V15H15V7ZM2 2H10V14H2V2ZM11 14V7H14V14H11Z" fill="#0587FF"/>
              </svg>
              <p>{props.profile.company}</p>
            </span>
          )}
          {props.profile.location && (
            <span className="flex">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.93506 3.9873C7.5395 3.9873 7.15282 4.1046 6.82392 4.32436C6.49502 4.54413 6.23868 4.85648 6.0873 5.22194C5.93593 5.58739 5.89632 5.98952 5.97349 6.37748C6.05066 6.76544 6.24114 7.12181 6.52085 7.40151C6.80055 7.68122 7.15692 7.8717 7.54488 7.94887C7.93284 8.02604 8.33497 7.98643 8.70043 7.83506C9.06588 7.68368 9.37824 7.42734 9.598 7.09844C9.81776 6.76954 9.93506 6.38286 9.93506 5.9873C9.93446 5.45705 9.72355 4.9487 9.34861 4.57376C8.97366 4.19882 8.46531 3.98791 7.93506 3.9873ZM7.93506 6.9873C7.73728 6.9873 7.54394 6.92865 7.37949 6.81877C7.21504 6.70889 7.08687 6.55271 7.01118 6.36999C6.93549 6.18726 6.91569 5.98619 6.95427 5.79221C6.99286 5.59823 7.0881 5.42005 7.22795 5.2802C7.3678 5.14034 7.54599 5.0451 7.73997 5.00652C7.93395 4.96793 8.13502 4.98774 8.31774 5.06342C8.50047 5.13911 8.65665 5.26728 8.76653 5.43173C8.87641 5.59618 8.93506 5.78952 8.93506 5.9873C8.93475 6.25242 8.8293 6.5066 8.64183 6.69407C8.45436 6.88154 8.20018 6.98699 7.93506 6.9873Z" fill="#0587FF"/>
                <path d="M11.7782 2.14109C10.828 1.19111 9.55958 0.626776 8.21773 0.557017C6.87589 0.487259 5.55577 0.917019 4.51216 1.76335C3.46855 2.60968 2.77543 3.81259 2.56657 5.13991C2.35771 6.46724 2.64792 7.82487 3.38118 8.95081L7.15953 14.7512C7.24361 14.8803 7.35857 14.9863 7.494 15.0597C7.62943 15.1331 7.78103 15.1716 7.93507 15.1716C8.08911 15.1716 8.24072 15.1331 8.37615 15.0597C8.51157 14.9863 8.62654 14.8803 8.71062 14.7512L12.4891 8.95081C13.1695 7.90634 13.4702 6.65974 13.3407 5.41995C13.2113 4.18015 12.6597 3.02252 11.7782 2.14109ZM11.6512 8.40496L7.93509 14.1096L4.21893 8.40496C3.08143 6.65875 3.3254 4.32187 4.79903 2.84819C5.21086 2.43634 5.69977 2.10965 6.23786 1.88677C6.77595 1.66388 7.35267 1.54916 7.93509 1.54916C8.51751 1.54916 9.09423 1.66388 9.63232 1.88677C10.1704 2.10965 10.6593 2.43634 11.0711 2.84819C12.5448 4.32187 12.7887 6.65875 11.6512 8.40496Z" fill="#0587FF"/>
              </svg>
              <p>{props.profile.location}</p>
            </span>
          )}
          
          {props.profile.blog && (
            <span className="flex">
              <svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4.23779 5.76187C4.97684 6.80339 6.53189 6.62054 7.29379 5.76187L8.80922 4.23806C9.6656 3.30244 9.69608 2.09406 8.80922 1.19044C7.9437 0.308916 6.62713 0.308916 5.7616 1.19044L4.23779 2.71425" stroke="#0587FF" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M5.76181 5.05324C5.02277 4.01172 3.4761 4.14124 2.71419 4.99991L1.19039 6.50467C0.334004 7.44029 0.303528 8.66772 1.19039 9.57134C2.05591 10.4529 3.37248 10.4529 4.238 9.57134L5.76181 8.04753" stroke="#0587FF" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>
                <a href={props.profile.blog} target="_aboutblank">&nbsp; {props.profile.blog}</a>
              </p>
            </span>
          )}
          
          <span className="flex">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1480_143)">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M4.9765 0.710626C5.7585 0.674626 6.00784 0.666626 7.99984 0.666626C9.99184 0.666626 10.2412 0.675293 11.0225 0.710626C11.8038 0.745959 12.3372 0.870626 12.8038 1.05129C13.2925 1.23596 13.7358 1.52463 14.1025 1.89796C14.4758 2.26396 14.7638 2.70663 14.9478 3.19596C15.1292 3.66263 15.2532 4.19596 15.2892 4.97596C15.3252 5.75929 15.3332 6.00863 15.3332 7.99996C15.3332 9.99196 15.3245 10.2413 15.2892 11.0233C15.2538 11.8033 15.1292 12.3366 14.9478 12.8033C14.7638 13.2927 14.4754 13.7361 14.1025 14.1026C13.7358 14.476 13.2925 14.764 12.8038 14.948C12.3372 15.1293 11.8038 15.2533 11.0238 15.2893C10.2412 15.3253 9.99184 15.3333 7.99984 15.3333C6.00784 15.3333 5.7585 15.3246 4.9765 15.2893C4.1965 15.254 3.66317 15.1293 3.1965 14.948C2.70712 14.7639 2.26372 14.4755 1.89717 14.1026C1.52409 13.7364 1.23538 13.2932 1.05117 12.804C0.870504 12.3373 0.746504 11.804 0.710504 11.024C0.674504 10.2406 0.666504 9.99129 0.666504 7.99996C0.666504 6.00796 0.675171 5.75863 0.710504 4.97729C0.745837 4.19596 0.870504 3.66263 1.05117 3.19596C1.23565 2.70668 1.52458 2.2635 1.89784 1.89729C2.26386 1.52429 2.70682 1.23559 3.19584 1.05129C3.6625 0.870626 4.19584 0.746626 4.97584 0.710626H4.9765ZM10.9632 2.03063C10.1898 1.99529 9.95784 1.98796 7.99984 1.98796C6.04184 1.98796 5.80984 1.99529 5.0365 2.03063C4.32117 2.06329 3.93317 2.18263 3.6745 2.28329C3.3325 2.41663 3.08784 2.57463 2.83117 2.83129C2.58787 3.06799 2.40062 3.35615 2.28317 3.67463C2.1825 3.93329 2.06317 4.32129 2.0305 5.03663C1.99517 5.80996 1.98784 6.04196 1.98784 7.99996C1.98784 9.95796 1.99517 10.19 2.0305 10.9633C2.06317 11.6786 2.1825 12.0666 2.28317 12.3253C2.4005 12.6433 2.58784 12.932 2.83117 13.1686C3.06784 13.412 3.3565 13.5993 3.6745 13.7166C3.93317 13.8173 4.32117 13.9366 5.0365 13.9693C5.80984 14.0046 6.04117 14.012 7.99984 14.012C9.9585 14.012 10.1898 14.0046 10.9632 13.9693C11.6785 13.9366 12.0665 13.8173 12.3252 13.7166C12.6672 13.5833 12.9118 13.4253 13.1685 13.1686C13.4118 12.932 13.5992 12.6433 13.7165 12.3253C13.8172 12.0666 13.9365 11.6786 13.9692 10.9633C14.0045 10.19 14.0118 9.95796 14.0118 7.99996C14.0118 6.04196 14.0045 5.80996 13.9692 5.03663C13.9365 4.32129 13.8172 3.93329 13.7165 3.67463C13.5832 3.33263 13.4252 3.08796 13.1685 2.83129C12.9318 2.58801 12.6436 2.40077 12.3252 2.28329C12.0665 2.18263 11.6785 2.06329 10.9632 2.03063ZM7.06317 10.2606C7.58628 10.4784 8.16876 10.5078 8.71112 10.3438C9.25349 10.1798 9.7221 9.83257 10.0369 9.36145C10.3517 8.89034 10.4932 8.32454 10.4372 7.7607C10.3812 7.19685 10.1312 6.66994 9.72984 6.26996C9.474 6.01428 9.16465 5.8185 8.82406 5.69672C8.48347 5.57495 8.12012 5.5302 7.76017 5.5657C7.40021 5.60121 7.05261 5.71608 6.74237 5.90205C6.43214 6.08801 6.167 6.34046 5.96604 6.64119C5.76508 6.94193 5.6333 7.28348 5.58018 7.64127C5.52707 7.99905 5.55394 8.36415 5.65886 8.7103C5.76379 9.05645 5.94416 9.37503 6.18698 9.64311C6.42981 9.91118 6.72905 10.1221 7.06317 10.2606ZM5.3345 5.33463C5.68452 4.98461 6.10005 4.70696 6.55737 4.51753C7.01469 4.32811 7.50484 4.23061 7.99984 4.23061C8.49483 4.23061 8.98499 4.32811 9.4423 4.51753C9.89962 4.70696 10.3152 4.98461 10.6652 5.33463C11.0152 5.68464 11.2928 6.10017 11.4823 6.55749C11.6717 7.01481 11.7692 7.50496 11.7692 7.99996C11.7692 8.49496 11.6717 8.98511 11.4823 9.44243C11.2928 9.89974 11.0152 10.3153 10.6652 10.6653C9.95828 11.3722 8.99953 11.7693 7.99984 11.7693C7.00014 11.7693 6.04139 11.3722 5.3345 10.6653C4.62761 9.9584 4.23049 8.99965 4.23049 7.99996C4.23049 7.00027 4.62761 6.04152 5.3345 5.33463ZM12.6052 4.79196C12.6919 4.71014 12.7613 4.61175 12.8094 4.50261C12.8574 4.39347 12.883 4.2758 12.8848 4.15658C12.8865 4.03735 12.8643 3.91899 12.8195 3.8085C12.7747 3.69801 12.7081 3.59763 12.6238 3.51332C12.5395 3.429 12.4391 3.36246 12.3286 3.31764C12.2181 3.27281 12.0998 3.25061 11.9805 3.25235C11.8613 3.25409 11.7437 3.27973 11.6345 3.32776C11.5254 3.37579 11.427 3.44522 11.3452 3.53196C11.186 3.70065 11.0989 3.92471 11.1023 4.15658C11.1057 4.38845 11.1993 4.60988 11.3633 4.77385C11.5273 4.93783 11.7487 5.03144 11.9805 5.03482C12.2124 5.03821 12.4365 4.95109 12.6052 4.79196Z" fill="#0587FF"/>
              </g>
              <defs>
              <clipPath id="clip0_1480_143">
              <rect width="16" height="16" fill="white"/>
              </clipPath>
              </defs>
            </svg>
            <p>
              <a href={`https://www.instagram.com/${props.profile.login}/`} target="_aboutblank">{props.profile.login}</a>
            </p>
          </span>
        </div>
      </div>
    </div>
  );
}